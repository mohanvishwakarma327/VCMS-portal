<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Client Configuration</title>
    <link href="styles.css" rel="stylesheet" type="text/css">
</head>
<body>
    <h1>Add Client Configuration</h1>
    <form id="clientConfigForm">
        <h2>Client Details</h2>
        <label for="clientName">Client Name:</label>
        <input type="text" id="clientName" name="clientName" required><br>

        <label for="clientEmail">Client Email:</label>
        <input type="email" id="clientEmail" name="clientEmail" required><br>

        <label for="clientPhone">Client Phone:</label>
        <input type="text" id="clientPhone" name="clientPhone" required><br>

        <label for="clientAddress">Client Address:</label>
        <input type="text" id="clientAddress" name="clientAddress" required><br>

        <label for="clientCity">City:</label>
        <input type="text" id="clientCity" name="clientCity" required><br>

        <label for="clientState">State:</label>
        <input type="text" id="clientState" name="clientState" required><br>

        <label for="clientZip">ZIP Code:</label>
        <input type="text" id="clientZip" name="clientZip" required><br>

        <label for="clientCountry">Country:</label>
        <input type="text" id="clientCountry" name="clientCountry" required><br>

        <input type="submit" value="Add Client Configuration">
    </form>

    <script>
        document.getElementById('clientConfigForm').addEventListener('submit', async function(event) {
            event.preventDefault();

            // Collect form data
            const clientData = {
                clientName: document.getElementById('clientName').value,
                clientEmail: document.getElementById('clientEmail').value,
                clientPhone: document.getElementById('clientPhone').value,
                clientAddress: document.getElementById('clientAddress').value,
                clientCity: document.getElementById('clientCity').value,
                clientState: document.getElementById('clientState').value,
                clientZip: document.getElementById('clientZip').value,
                clientCountry: document.getElementById('clientCountry').value,
            };

            try {
                // Send data to the backend
                const response = await fetch('http://127.0.0.1:5000/clients', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(clientData),
                });                               

                if (response.ok) {
                    alert('Client configuration added successfully!');
                } else {
                    alert('Failed to add client configuration. Please try again.');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('An error occurred while saving client configuration.');
            }
        });
    </script>
</body>
</html>
